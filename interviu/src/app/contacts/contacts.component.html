<div class="container">
    <div class="contacts">
        <div class="nav">
            <button type="button" class="btn btn-outline-light btn-sm" (click)="add()">+ Add contact</button>
        </div>
        <div class="contact-list">
            <table class="table table-bordered">
                <tr>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Phone Number</th>
                    <th>Email</th>
                </tr>
                <tr class="contact" *ngFor="let contact of contactsList; let i = index">
                    <td>{{ contact.firstName }}</td>
                    <td>{{ contact.lastName }}</td>
                    <td>{{ contact.phoneNumber }}</td>
                    <td>{{ contact.email }} 
                        <!-- <a id="edit" [routerLink]="" (click)="edit( i )">edit</a> -->                       
                        <!--<a [routerLink]="" (click)="delete( i )">delete</a> -->
                        <button id="delete" type="button" class="btn btn-light btn-sm" (click)="delete( i )">delete</button>
                        <button id="edit" type="button" class="btn btn-light btn-sm" (click)="edit( i )">edit</button>
                    </td>   
                </tr>
            </table>
        </div>
    </div>

    <div class="backdrop" [ngStyle]="{'display':display}"></div>

    <div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':display}">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" aria-label="Close" (click)="onCloseHandled()"><span aria-hidden="true">&times;</span></button>
                </div>
                <div class="modalbody">
                        <div id="editForm">
                            <form [formGroup]="editForm" (ngSubmit)="onSubmit()">
                                <div class="form-group"> 
                                    <label for="firstName">First Name:</label>
                                    <input type="text" formControlName="firstName" class="form-control" id="firstName" placeholder="Enter first name" name="firstName">
                                    <div *ngIf="submitted && editForm.controls.firstName.errors" class="error">
                                        <div *ngIf="editForm.controls.firstName.errors.required">First name is required!</div>
                                        <div *ngIf="editForm.controls.firstName.errors.minlength">Must contain at least 3 characters!</div>
                                    </div>
                                </div>
                                <div class="form-group"> 
                                    <label for="lastName">Last Name:</label>
                                    <input type="text" formControlName="lastName" class="form-control" id="lastName" placeholder="Enter last name" name="lastName">
                                    <div *ngIf="submitted && editForm.controls.lastName.errors" class="error">
                                        <div *ngIf="editForm.controls.lastName.errors.required">Last name is required!</div>
                                        <div *ngIf="editForm.controls.lastName.errors.minlength">Must contain at least 3 characters!</div>
                                    </div>
                                </div>
                                <div class="form-group"> 
                                    <label for="phoneNumber">Phone number:</label>
                                    <input type="text" formControlName="phoneNumber" class="form-control" id="phoneNumber" placeholder="Enter phone number" name="phoneNumber">
                                    <div *ngIf="submitted && editForm.controls.phoneNumber.errors" class="error">
                                        <div *ngIf="editForm.controls.phoneNumber.errors.required">Phone number is required!</div>
                                        <div *ngIf="editForm.controls.phoneNumber.errors.minlength">Must contain 10 numbers!</div>
                                        <div *ngIf="editForm.controls.phoneNumber.errors.pattern">Only numbers!</div>
                                    </div>
                                </div>
                                <div class="form-group"> 
                                    <label for="email">Email:</label>
                                    <input type="email" formControlName="email" class="form-control" id="email" placeholder="Enter email" name="email">
                                    <div *ngIf="submitted && editForm.controls.email.errors" class="error">
                                        <div *ngIf="editForm.controls.email.errors.required">Email is required!</div>
                                        <div *ngIf="editForm.controls.email.errors.email">Invalid email address!</div>
                                    </div>
                                </div>
                            </form>
                        </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-success" (click)="submitChanges()">Save</button>
                </div>
            </div>
        </div>
    </div>


</div>
